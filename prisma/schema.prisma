// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Place {
  id          String   @id @default(cuid())
  name        String
  description String
  latitude    Float
  longitude   Float
  category    String
  imageUrl    String?
  rating      Float?
  address     String?
  website     String?
  phoneNumber String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("places")
}

model Property {
  id                String   @id @default(cuid())
  calle             String   // Street
  colonia           String   // Neighborhood
  alcaldia          String   // Borough/Municipality
  precio            String?  // Price (stored as string to handle various formats)
  m2                String?  // Square meters
  recamaras         String?  // Bedrooms
  banos             String?  // Bathrooms
  estacionamientos  String?  // Parking spots
  amenidades        String?  // Amenities
  descripcion       String?  // Description
  url               String?  // Property URL
  mantenimiento     String?  // Maintenance fee
  inmobiliaria      String?  // Real estate agency
  
  // Generated/computed fields
  latitude          Float
  longitude         Float
  fullAddress       String   // Complete address for display
  
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  @@unique([calle, colonia, alcaldia])
  @@map("properties")
}
